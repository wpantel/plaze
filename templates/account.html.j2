{% extends "base.html.j2" %}

{% block body %}
<div class="container d-flex justify-content-center align-items-center vh-100">
    <div id="account-card" class="card shadow-lg p-4">
        <!-- Show Log Out if the user is logged in, and vice versa for "else" #} -->
        {% if 'williamp_userID' in session %}
            <h1 class="text-center mb-3">Welcome Back</h1>
            <p class="text-center">You are already logged in.</p>
            <a href="logout" class="btn btn-danger w-100">Log Out</a>
        {% else %}
            <h1 class="text-center mb-4">Log In</h1>
            <a href="auth" id="login-btn" class="btn btn-primary w-100">Connect with Spotify</a>
            <p class="text-muted text-center mt-3 small">
                You will be redirected to Spotify for authentication.
            </p>
        {% endif %}
    </div>
</div>

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul class=flashes>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

{% endblock %}
